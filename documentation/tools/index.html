<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tools • Vitess</title>
    <meta name="description" content="Tools and servers

The vitess tools and servers are designed to help you even
if you start small, and scale all the way to a complete fleet
of databases.

In the early stages, connection pooling, rowcache and other
efficiency features of vttablet help you get more from your
existing hardware.
As things scale out, the automation tools start to become handy.

vtctl

vtctl is the main tool for performing administrative operations.
It can be used to track shards, replication graphs and
db categories.
It&#39;s also used to initiate failovers, reshard, etc.

As vtctl performs operations, it updates the necessary
changes to the lockserver (zookeeper).
The rest of the vitess servers observe those changes
and react accordingly.
For example, if a master database if failed over to a new
one, the vitess servers will see the change and redirect
future writes to the new master.

vttablet

One of vttablet&#39;s main function is to be a proxy to MySQL.
It performs tasks that attempt to maximize throughput as
well as to protect MySQL from harmful queries. There is
one vttablet per MySQL instance.

vttablet is also capable of executing necessary management
tasks initiated from vtctl.
It also provides streaming services that are used for
filtered replication and data export.

vtocc

Vtocc is the previous version of vttablet. It handles query management
(same as vttablet) but is not part of a larger system, it&#39;s a standalone
program that doesn&#39;t require a Topology Server. It is useful for
unit tests and when the only required feature is the query service
(with connection pooling, query de-dup, ...).

Note we may eventually produce a version of vttablet that runs
without a Topology Server, and use it instead of vtocc.

vtgate

vtgate&#39;s goal is to provide a unified view of the entire fleet.
It will be the server that applications will connect to for
queries. It will analyze, rewrite and route queries to various
vttablets, and return the consolidated results back to the client.

vtctld

vtctld is an HTTP server that lets you browse the information stored
in the lockserver.
This is useful for trouble-shooting, or to get a good high
level picture of all the servers and their current state.

vtworker

vtworker is meant to host long-running processes. It supports a plugin infrastructure, and offers libraries to easily pick tablets to use. We have developed:
- resharding differ jobs: meant to check data integrity during shard splits and joins.
- vertical split differ jobs: meant to check data integrity during vertical splits and joins.

It is very easy to add other checker processes for in-tablet integrity checks (verifying foreign key-like relationships), and cross shard data integrity (for instance, if a keyspace contains an index table referencing data in another keyspace).

vtprimecache

vtprimecache is a mysql cache primer for faster replication. If the single MySQL replication thread is falling behind, vtprimecache activates and starts reading the available relay logs. It then uses a few threads / connections to MySQL to execute modified statements and prime the MySQL buffer cache. The idea is for instance if an &#39;update table X where id=2&#39; statement is going to be executed by the replication SQL thread 2 or 3 seconds from now, might as well execute a concurrent &#39;select from table X where id=2&#39; now and prime the MySQL buffer cache. In practice, this shows a speed improvement in replication speed by 30 to 40 percents.

Other support tools


mysqlctl: manage MySQL instances.
zkctl: manage ZooKeeper instances.
zk: command line ZooKeeper client and explorer.


Vitess components block diagram


">
    <meta name="keywords" content="">
    
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="Tools">
	<meta name="twitter:description" content="Tools and servers

The vitess tools and servers are designed to help you even
if you start small, and scale all the way to a complete fleet
of databases.

In the early stages, connection pooling, rowcache and other
efficiency features of vttablet help you get more from your
existing hardware.
As things scale out, the automation tools start to become handy.

vtctl

vtctl is the main tool for performing administrative operations.
It can be used to track shards, replication graphs and
db categories.
It&#39;s also used to initiate failovers, reshard, etc.

As vtctl performs operations, it updates the necessary
changes to the lockserver (zookeeper).
The rest of the vitess servers observe those changes
and react accordingly.
For example, if a master database if failed over to a new
one, the vitess servers will see the change and redirect
future writes to the new master.

vttablet

One of vttablet&#39;s main function is to be a proxy to MySQL.
It performs tasks that attempt to maximize throughput as
well as to protect MySQL from harmful queries. There is
one vttablet per MySQL instance.

vttablet is also capable of executing necessary management
tasks initiated from vtctl.
It also provides streaming services that are used for
filtered replication and data export.

vtocc

Vtocc is the previous version of vttablet. It handles query management
(same as vttablet) but is not part of a larger system, it&#39;s a standalone
program that doesn&#39;t require a Topology Server. It is useful for
unit tests and when the only required feature is the query service
(with connection pooling, query de-dup, ...).

Note we may eventually produce a version of vttablet that runs
without a Topology Server, and use it instead of vtocc.

vtgate

vtgate&#39;s goal is to provide a unified view of the entire fleet.
It will be the server that applications will connect to for
queries. It will analyze, rewrite and route queries to various
vttablets, and return the consolidated results back to the client.

vtctld

vtctld is an HTTP server that lets you browse the information stored
in the lockserver.
This is useful for trouble-shooting, or to get a good high
level picture of all the servers and their current state.

vtworker

vtworker is meant to host long-running processes. It supports a plugin infrastructure, and offers libraries to easily pick tablets to use. We have developed:
- resharding differ jobs: meant to check data integrity during shard splits and joins.
- vertical split differ jobs: meant to check data integrity during vertical splits and joins.

It is very easy to add other checker processes for in-tablet integrity checks (verifying foreign key-like relationships), and cross shard data integrity (for instance, if a keyspace contains an index table referencing data in another keyspace).

vtprimecache

vtprimecache is a mysql cache primer for faster replication. If the single MySQL replication thread is falling behind, vtprimecache activates and starts reading the available relay logs. It then uses a few threads / connections to MySQL to execute modified statements and prime the MySQL buffer cache. The idea is for instance if an &#39;update table X where id=2&#39; statement is going to be executed by the replication SQL thread 2 or 3 seconds from now, might as well execute a concurrent &#39;select from table X where id=2&#39; now and prime the MySQL buffer cache. In practice, this shows a speed improvement in replication speed by 30 to 40 percents.

Other support tools


mysqlctl: manage MySQL instances.
zkctl: manage ZooKeeper instances.
zk: command line ZooKeeper client and explorer.


Vitess components block diagram


">
	
	
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image" content="http://youtube.github.io/vitess/images/120x120.gif">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Tools">
	<meta property="og:description" content="Tools and servers

The vitess tools and servers are designed to help you even
if you start small, and scale all the way to a complete fleet
of databases.

In the early stages, connection pooling, rowcache and other
efficiency features of vttablet help you get more from your
existing hardware.
As things scale out, the automation tools start to become handy.

vtctl

vtctl is the main tool for performing administrative operations.
It can be used to track shards, replication graphs and
db categories.
It&#39;s also used to initiate failovers, reshard, etc.

As vtctl performs operations, it updates the necessary
changes to the lockserver (zookeeper).
The rest of the vitess servers observe those changes
and react accordingly.
For example, if a master database if failed over to a new
one, the vitess servers will see the change and redirect
future writes to the new master.

vttablet

One of vttablet&#39;s main function is to be a proxy to MySQL.
It performs tasks that attempt to maximize throughput as
well as to protect MySQL from harmful queries. There is
one vttablet per MySQL instance.

vttablet is also capable of executing necessary management
tasks initiated from vtctl.
It also provides streaming services that are used for
filtered replication and data export.

vtocc

Vtocc is the previous version of vttablet. It handles query management
(same as vttablet) but is not part of a larger system, it&#39;s a standalone
program that doesn&#39;t require a Topology Server. It is useful for
unit tests and when the only required feature is the query service
(with connection pooling, query de-dup, ...).

Note we may eventually produce a version of vttablet that runs
without a Topology Server, and use it instead of vtocc.

vtgate

vtgate&#39;s goal is to provide a unified view of the entire fleet.
It will be the server that applications will connect to for
queries. It will analyze, rewrite and route queries to various
vttablets, and return the consolidated results back to the client.

vtctld

vtctld is an HTTP server that lets you browse the information stored
in the lockserver.
This is useful for trouble-shooting, or to get a good high
level picture of all the servers and their current state.

vtworker

vtworker is meant to host long-running processes. It supports a plugin infrastructure, and offers libraries to easily pick tablets to use. We have developed:
- resharding differ jobs: meant to check data integrity during shard splits and joins.
- vertical split differ jobs: meant to check data integrity during vertical splits and joins.

It is very easy to add other checker processes for in-tablet integrity checks (verifying foreign key-like relationships), and cross shard data integrity (for instance, if a keyspace contains an index table referencing data in another keyspace).

vtprimecache

vtprimecache is a mysql cache primer for faster replication. If the single MySQL replication thread is falling behind, vtprimecache activates and starts reading the available relay logs. It then uses a few threads / connections to MySQL to execute modified statements and prime the MySQL buffer cache. The idea is for instance if an &#39;update table X where id=2&#39; statement is going to be executed by the replication SQL thread 2 or 3 seconds from now, might as well execute a concurrent &#39;select from table X where id=2&#39; now and prime the MySQL buffer cache. In practice, this shows a speed improvement in replication speed by 30 to 40 percents.

Other support tools


mysqlctl: manage MySQL instances.
zkctl: manage ZooKeeper instances.
zk: command line ZooKeeper client and explorer.


Vitess components block diagram


">
	<meta property="og:url" content="http://youtube.github.io/vitess/documentation/tools/">
	<meta property="og:site_name" content="Vitess">

    <link rel="canonical" href="http://youtube.github.io/vitess/documentation/tools/">

    <link href="http://youtube.github.io/vitess/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <style>
    .sliding-menu-content {
      top: 0;
      right: 0;
      text-align: center;
      visibility: hidden;
      height: 100%;
      width: 100%;
      -webkit-transform: translateX(100%);
      -moz-transform: translateX(100%);
      -ms-transform: translateX(100%);
      -o-transform: translateX(100%);
      transform: translateX(100%);
    }
    </style>

    <link rel="stylesheet" href="http://youtube.github.io/vitess/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="http://youtube.github.io/vitess/js/vendor/html5shiv.min.js"></script>
      <script src="http://youtube.github.io/vitess/js/vendor/respond.min.js"></script>
    <![endif]-->

  </head>

  <body>
    <header id="masthead">
  <div class="inner-wrap">
    <a href="http://youtube.github.io/vitess/" class="site-title">Vitess</a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<li class="home"><a href="/">Vitess</a></li>
	
    
        
    
    <li><a href="http://youtube.github.io/vitess/getting-started/" >Getting Started</a></li>
  
    
        
    
    <li><a href="http://youtube.github.io/vitess/documentation/" >Documentation</a></li>
  
    
        
    
    <li><a href="http://youtube.github.io/vitess/about/" >About</a></li>
  
    
        
    
    <li><a href="http://youtube.github.io/vitess/faq/" >FAQ</a></li>
  
</ul>
    </nav>
  </div>
</header>

    <nav role="navigation" class="js-menu sliding-menu-content">
	<ul class="menu-item">
		<li>
      
        
      
			<a href="http://youtube.github.io/vitess/getting-started/"><img src="http://youtube.github.io/vitess/images/400x250.gif" alt="teaser" class="teaser"></a>
			<a href="http://youtube.github.io/vitess/getting-started/" class="title">Getting Started</a>
			<p class="excerpt">Everything you need to know to get started with Vitess.</p>
		</li><li>
      
        
      
			<a href="http://youtube.github.io/vitess/documentation/"><img src="http://youtube.github.io/vitess/images/400x250.gif" alt="teaser" class="teaser"></a>
			<a href="http://youtube.github.io/vitess/documentation/" class="title">Documentation</a>
			<p class="excerpt">Vitess Docs.</p>
		</li><li>
      
        
      
			<a href="http://youtube.github.io/vitess/about/"><img src="http://youtube.github.io/vitess/images/400x250.gif" alt="teaser" class="teaser"></a>
			<a href="http://youtube.github.io/vitess/about/" class="title">About</a>
			<p class="excerpt">All about Vitess.</p>
		</li><li>
      
        
      
			<a href="http://youtube.github.io/vitess/faq/"><img src="http://youtube.github.io/vitess/images/400x250.gif" alt="teaser" class="teaser"></a>
			<a href="http://youtube.github.io/vitess/faq/" class="title">FAQ</a>
			<p class="excerpt">Vitess Faq.</p>
		</li>
	</ul>
</nav>
<button type="button" class="js-menu-trigger sliding-menu-button menulines-button x2" role="button" aria-label="Toggle Navigation">
	<span class="menulines"></span>
</button>

<div class="js-menu-screen menu-screen"></div>

    <div id="page-wrapper">
      <!--[if lt IE 9]><div class="upgrade notice-danger"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

      <div id="main" role="main">
  <article class="wrap" itemscope itemtype="http://schema.org/Article">
    
    
  <nav class="breadcrumbs">
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="http://youtube.github.io/vitess" itemprop="url">
        <span itemprop="title">Home</span>
      </a> › 
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="http://youtube.github.io/vitess/documentation/" itemprop="url">
        <span itemprop="title">Documentation</span>
      </a>
    </span>
  </nav>


    <div class="inner-wrap">
      <nav class="toc"></nav>
      <div id="content" class="page-content" itemprop="articleBody">
	<h1 id="tools-and-servers">Tools and servers</h1>

<p>The vitess tools and servers are designed to help you even
if you start small, and scale all the way to a complete fleet
of databases.</p>

<p>In the early stages, connection pooling, rowcache and other
efficiency features of vttablet help you get more from your
existing hardware.
As things scale out, the automation tools start to become handy.</p>

<h3 id="vtctl">vtctl</h3>

<p>vtctl is the main tool for performing administrative operations.
It can be used to track shards, replication graphs and
db categories.
It&#39;s also used to initiate failovers, reshard, etc.</p>

<p>As vtctl performs operations, it updates the necessary
changes to the lockserver (zookeeper).
The rest of the vitess servers observe those changes
and react accordingly.
For example, if a master database if failed over to a new
one, the vitess servers will see the change and redirect
future writes to the new master.</p>

<h3 id="vttablet">vttablet</h3>

<p>One of vttablet&#39;s main function is to be a proxy to MySQL.
It performs tasks that attempt to maximize throughput as
well as to protect MySQL from harmful queries. There is
one vttablet per MySQL instance.</p>

<p>vttablet is also capable of executing necessary management
tasks initiated from vtctl.
It also provides streaming services that are used for
filtered replication and data export.</p>

<h4 id="vtocc">vtocc</h4>

<p>Vtocc is the previous version of vttablet. It handles query management
(same as vttablet) but is not part of a larger system, it&#39;s a standalone
program that doesn&#39;t require a Topology Server. It is useful for
unit tests and when the only required feature is the query service
(with connection pooling, query de-dup, ...).</p>

<p>Note we may eventually produce a version of vttablet that runs
without a Topology Server, and use it instead of vtocc.</p>

<h3 id="vtgate">vtgate</h3>

<p>vtgate&#39;s goal is to provide a unified view of the entire fleet.
It will be the server that applications will connect to for
queries. It will analyze, rewrite and route queries to various
vttablets, and return the consolidated results back to the client.</p>

<h3 id="vtctld">vtctld</h3>

<p>vtctld is an HTTP server that lets you browse the information stored
in the lockserver.
This is useful for trouble-shooting, or to get a good high
level picture of all the servers and their current state.</p>

<h3 id="vtworker">vtworker</h3>

<p>vtworker is meant to host long-running processes. It supports a plugin infrastructure, and offers libraries to easily pick tablets to use. We have developed:
- resharding differ jobs: meant to check data integrity during shard splits and joins.
- vertical split differ jobs: meant to check data integrity during vertical splits and joins.</p>

<p>It is very easy to add other checker processes for in-tablet integrity checks (verifying foreign key-like relationships), and cross shard data integrity (for instance, if a keyspace contains an index table referencing data in another keyspace).</p>

<h3 id="vtprimecache">vtprimecache</h3>

<p>vtprimecache is a mysql cache primer for faster replication. If the single MySQL replication thread is falling behind, vtprimecache activates and starts reading the available relay logs. It then uses a few threads / connections to MySQL to execute modified statements and prime the MySQL buffer cache. The idea is for instance if an &#39;update table X where id=2&#39; statement is going to be executed by the replication SQL thread 2 or 3 seconds from now, might as well execute a concurrent &#39;select from table X where id=2&#39; now and prime the MySQL buffer cache. In practice, this shows a speed improvement in replication speed by 30 to 40 percents.</p>

<h3 id="other-support-tools">Other support tools</h3>

<ul>
<li><em>mysqlctl</em>: manage MySQL instances.</li>
<li><em>zkctl</em>: manage ZooKeeper instances.</li>
<li><em>zk</em>: command line ZooKeeper client and explorer.</li>
</ul>

<h2 id="vitess-components-block-diagram">Vitess components block diagram</h2>

<p><img src="https://raw.github.com/youtube/vitess/master/doc/VitessComponents.png" alt="Components"></p>

	<hr />
	<footer class="page-footer">
	  


<div class="author-image">
	<img src="http://youtube.github.io/vitess/images/" alt="Vitess Team">
</div>
<div class="author-content">
	<h3 class="author-name" >Written by <a href="https://github.com/youtube/vitess" itemprop="author">Vitess Team</a></h3>
	<p class="author-bio"></p>
</div>

	  <div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=Tools&amp;url=http://youtube.github.io/vitess/documentation/tools/&amp;via=" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://youtube.github.io/vitess/documentation/tools/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i> Share on Facebook</a>
	<a class="btn-social google-plus"  href="https://plus.google.com/share?url=http://youtube.github.io/vitess/documentation/tools/" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i> Share on Google+</a>
</div>

	  <div class="page-meta">
	<p>Updated <time datetime="2015-01-01T00:00:00Z" itemprop="datePublished">January 01, 2015</time></p>
</div>

	</footer>
	<aside>
	  
	</aside>
      </div>
    </div>
  </article>
</div>


      <footer role="contentinfo" id="site-footer">
  <nav role="navigation" class="menu bottom-menu">
    <ul class="menu-item">
      
      
        
      
      <li><a href="http://youtube.github.io/vitess/" >Home</a></li>
      
      
        
      
      <li><a href="http://youtube.github.io/vitess/getting-started/" >Getting Started</a></li>
      
      
        
      
      <li><a href="http://youtube.github.io/vitess/about/" >About</a></li>
      
      
        
      
      <li><a href="http://youtube.github.io/vitess/faq/" >FAQ</a></li>
      
      
        
      
      <li><a href="http://youtube.github.io/vitess/terms/" >Terms</a></li>
      
    </ul>
  </nav>
  <p class="copyright">&#169; 2015 <a href="http://youtube.github.io/vitess">Vitess</a> powered by <a href="http://www.google.com">Google Inc</a>.</p>
</footer>

    </div>

    <script src="http://youtube.github.io/vitess/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="http://youtube.github.io/vitess/js/main.js"></script>
    
    
    <script type="text/javascript">
      $('.toc').toc({
        'selectors': 'h2', //elements to use as headings
        'container': '.page-content', //element to find all selectors in
        'smoothScrolling': true, //enable or disable smooth scrolling on click
        'prefix': 'toc', //prefix for anchor tags and class names
        'onHighlight': function(el) {}, //called when a new section is highlighted 
        'highlightOnScroll': true, //add class to heading that is currently in focus
        'highlightOffset': 100, //offset to trigger the next headline
        'anchorName': function(i, heading, prefix) { //custom function for anchor name
          return prefix+i;
        },
        'headerText': function(i, heading, $heading) { //custom function building the header-item text
          return $heading.text();
        },
        'itemClass': function(i, heading, $heading, prefix) { //custom function for item class
          return $heading[0].tagName.toLowerCase();
        }
      });
    </script>
    

  </body>

</html>
